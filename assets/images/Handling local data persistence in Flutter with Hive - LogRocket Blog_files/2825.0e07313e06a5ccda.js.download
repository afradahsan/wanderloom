"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2825],{69199:function(e,t,o){o.d(t,{Z:function(){return a}});var n=o(52322),i=o(94292);o(2784);var r=o(53476),s=o(49748);function a(e){var t=e.size,o=e.color,a=e.isZoomActive,l=e.isHovered,u=(0,r.sJ)(s.H.zoomBox).zoomLevel;return(0,n.jsx)(i.PE,{size:t,color:o,isZoomActive:void 0!==a&&a,zoomLevel:u,isHovered:void 0!==l&&l})}},72825:function(e,t,o){o.d(t,{Z:function(){return A}});var n,i=o(42838),r=o(70865),s=o(96670),a=o(66383),l=o(52322),u=o(60845),c=o(33252),d=o(269),p=o(841),f=o.n(p),v=o(78081),m=o(35463),g=o(5575),h=o(25237),x=o.n(h),b=o(2784);function w(){return(w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}var y=function(e){return b.createElement("svg",w({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 6"},e),n||(n=b.createElement("path",{d:"M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"})))},H=o(53476),E=o(56873),C=o(97818),k=o(53994),j=o(64989),Z=o(63223),D=o(49748),M=o(60058),N=o(79826),O=o(69199),T=o(11761),z=o(65186),I=function(e){var t=e.top,o=e.right;return(0,l.jsx)(E.default,{content:"This hotspot is missing a target",children:(0,l.jsxs)("div",{className:"absolute w-[30px] h-[30px]",style:{top:t,right:o},children:[(0,l.jsx)("div",{className:"absolute top-[5px] right-[5px] w-[20px] h-[20px] bg-critical-action animate-ping opacity-100 rounded-full ring-2 ring-white"}),(0,l.jsx)(z.vVM,{className:"absolute top-0 right-0 w-[30px] h-[30px] bg-transparent text-critical-action"})]})})},P=x()(function(){return Promise.all([o.e(7720),o.e(3439),o.e(9232)]).then(o.bind(o,63439))},{loadableGenerated:{webpack:function(){return[63439]}}}),A=function(e){var t,o,n,p=e.hotspot,h=e.inEditMode,x=e.displayAsCaption,w=e.alwaysOpen,z=e.onHotspotClick,A=e.updateHotspot,L=e.deleteHotspot,R=e.tracker,S=e.stageRef,B=e.isZoomActive,J=e.dragCircleRef,V=e.featureBundle,_=void 0===V?v.H:V,F=e.hotspotTippyRef,K=(0,b.useRef)(null),U=(0,j.u)(),q=U.flow,G=U.customValues,W=U.fontFamily,X=(0,H.sJ)(D.H.isPanAndZoomAnimationActive),Q=(0,H.sJ)(D.H.hotspotInspectorIsOpen),Y=(0,a.Z)((0,H.FV)(D.H.selectedHotspot),2),$=Y[0],ee=Y[1],et=(0,H.Zl)(D.H.selectedHotspotIsDirty),eo=(0,H.rb)(D.H.selectedHotspot),en=(0,H.sJ)(D.H.stageDimensions),ei=(0,H.sJ)(D.H.showTextFormattingOptions),er=(0,H.Zl)(D.H.shake),es=(0,a.Z)((0,H.FV)(D.H.selectingTarget),2),ea=es[0],el=es[1],eu=(0,H.sJ)(D.H.zoomBox).zoomLevel,ec=(0,H.Zl)(D.H.isHistoryNav),ed=(0,b.useState)(!1),ep=ed[0],ef=ed[1],ev=(0,b.useState)(!1),em=ev[0],eg=ev[1],eh=(0,a.Z)((0,Z.C)($),3),ex=eh[0],eb=eh[1],ew=eh[2],ey=(0,b.useState)(!0),eH=ey[0],eE=ey[1],eC=(0,b.useState)(!1),ek=eC[0],ej=eC[1],eZ=(0,b.useState)(!1),eD=eZ[0],eM=eZ[1],eN=!!ex&&ex.id===p.id,eO=(0,b.useState)((null==ex?void 0:ex.preferredDirection)?ex.preferredDirection:h?"auto":"bottom"),eT=eO[0],ez=eO[1];(0,b.useEffect)(function(){et(!!ew)},[ew,et]),(0,b.useEffect)(function(){p.preferredDirection&&ez(p.preferredDirection)},[$,eT,p.preferredDirection]),(0,b.useEffect)(function(){p.defaultOpen?ej(!0):ej(!1)},[p.defaultOpen,h]),t=!!p.targetId&&p.targetId!==N.xv&&(!q.steps||!q.steps.find(function(e){return e.id===p.targetId})),(0,k.s)(eN&&!ei,function(e){if((0,i.Z)(e,KeyboardEvent))ew?er(!0):eo();else{var t=ea&&Array.from(document.getElementsByClassName("_step-selector-step")).find(function(t){return t.contains(e.target)});ew?t||er(!0):eo()}},{keyboardEvents:["Escape"]});var eI=N.qT.width,eP=N.qT.height,eA=p.x*en.width-eI/2,eL=p.y*en.height-eP/2,eR=q.belongsToTeam?c.defaultTeamPrefs.bgColor:c.defaultUserPrefs.bgColor,eS=q.belongsToTeam?c.defaultTeamPrefs.fgColor:c.defaultUserPrefs.textColor,eB=(p.bgColor&&!h?p.bgColor:p.id===(null==ex?void 0:ex.id)?null==ex?void 0:ex.bgColor:p.bgColor)||eR,eJ=p.textColor||eS,eV=(0,b.useCallback)(function(){z&&setTimeout(function(){eE(!0),ec(!1),z(p)},200)},[p,z,ec]),e_=function(e){e.stopPropagation(),!eD&&!Q&&(h?(ej(!1),!ew&&(eN||ee(p))):eV())},eF=function(){h||(ef(!1),eg(!1))},eK=function(e){e.stopPropagation(),e.preventDefault(),ef(!0),(!h||ek||eN)&&h||ej(!0)},eU=function(e){e.stopPropagation(),e.preventDefault(),ef(!1),h||p.defaultOpen||(ej(!1),eF())},eq=function(e){eM(!0);var t=null==J?void 0:J.current;t&&(t.style.background=eB),ej(!1)},eG=function(e,t){var o,n=null===(o=S.current)||void 0===o?void 0:o.getBoundingClientRect();if(h&&n){var i=(0,C.BD)(t.point.x,t.point.y,en,{top:n.top,left:n.left}),a=i.x,l=i.y;eM(!1),null==A||A((0,s.Z)((0,r.Z)({},p),{x:(0,C.jz)(a,en),y:(0,C.OW)(l,en)}))}},eW=null;eN&&ex?eW=(0,l.jsx)(P,{className:(0,u.cn)({hidden:eD}),currentHotspot:ex,updateCurrentHotspot:eb,isDirty:ew,onClose:function(){eo(),ej(!0),el(!1)},updateHotspot:A,deleteHotspot:L,tracker:R}):p.label&&!x&&(eW=eD?null:(0,l.jsx)("div",{className:(0,u.cn)("p-3 rounded-lg w-max max-w-[12.5rem] sm:max-w-[15.625rem] cursor-pointer text-sm sm:text-base select-none transition-all",{"ring-8":ep&&!h}),style:{backgroundColor:eB,color:eJ,fontFamily:W,wordWrap:"break-word","--tw-ring-color":"".concat(eB,"33")},children:(0,l.jsx)(f(),{markdown:h?p.label:(0,u.withCustomVariables)(p.label,q.customVariables,G)})}));var eX=(0,l.jsxs)("div",{className:"select-none",style:{height:T.IR,width:T.IR},children:[t&&(h||q.status!==d.PublishStatus.published)&&(0,l.jsx)(I,{top:-(T.IR-eP)/2,right:-(T.IR-eI)/2}),(0,l.jsx)(O.Z,{color:eB,size:T.IR,isZoomActive:B,isHovered:ep})]});return(0,l.jsx)(m.X,{features:_,children:(0,l.jsx)(g.m.div,{"data-mouseover-override-enabled-on-panandzoom":"true",ref:K,className:(0,u.cn)("cursor-pointer absolute flex justify-center items-center outline-none"),style:{height:eP,width:eI,scale:1,zIndex:(0,M.LM)(M.KN.HotspotComponent)},initial:{x:en.width/2,y:en.height/2},animate:{x:eA,y:eL,scale:1,transition:{type:"spring",stiffness:100,damping:15,bounce:0}},onAnimationStart:function(){return eE(!0)},onAnimationComplete:function(e){var t=e.valueOf();.1>Math.abs(t.x-eA)&&.1>Math.abs(t.y-eL)&&eE(!1)},onClick:e_,onMouseEnter:eK,onMouseLeave:eU,onMouseDown:function(){return!h&&eg(!0)},onMouseUp:eF,drag:h&&!Q,onDragStart:eq,onDragEnd:eG,children:(0,l.jsx)(E.default,{visible:!eD&&!eH&&(eN||ek||void 0!==w&&w||!eW),interactive:!1,placement:eT,zIndex:(0,M.LM)(eN&&ex?M.KN.HotspotInspector:M.KN.HotspotComponent,2),popperOptions:eW?{modifiers:[{name:"flip",options:{fallbackPlacements:["top","bottom","right","left"]}},{name:"preventOverflow",options:{mainAxis:!0,altAxis:!0}},]}:void 0,offset:function(e){var t=e.reference;return[0,B?-9*t.width/eI*eu:-10,]},duration:[150,50],animation:"shift-away",render:function(e){return(0,l.jsxs)(g.m.div,{"data-mouseover-override-enabled-on-panandzoom":"true",className:(0,u.cn)("_hotspot-popover pointer-events-auto",{"drop-shadow-hotspot":!eN,"opacity-0":X&&!h||eH&&!h||!ek&&!h,"transition-opacity duration-300":!eH&&!h,"opacity-100 transition-opacity duration-300":!X&&!eH&&!h&&ek}),animate:h?void 0:{scale:ep?em?.9:1.05:1,transition:T.GO},onMouseEnter:function(){return ef(!0)},onMouseLeave:eF,onMouseDown:function(){return!h&&eg(!0)},onMouseUp:eF,onTapCancel:function(){return!h&&eV()},dir:"auto",children:[!eD&&!eN&&eW&&(0,l.jsx)("div",(0,s.Z)((0,r.Z)({},e),{"data-popper-arrow":!0,children:(0,l.jsx)(y,{style:{height:8,width:16,fill:eB}})})),eW]})},appendTo:h?null!==(o=null==F?void 0:F.current)&&void 0!==o?o:void 0:null!==(n=S.current)&&void 0!==n?n:void 0,plugins:[E.sticky],sticky:!0,children:eX})})})}},53994:function(e,t,o){o.d(t,{s:function(){return r}});var n=o(42838),i=o(2784);function r(e,t,o){(0,i.useEffect)(function(){var i,r=(null==o?void 0:o.keyboardEvents)||["Enter","Escape","Space"],s=function(e){e.stopPropagation(),(r.includes(e.code)||!(0,n.Z)(e,KeyboardEvent))&&t(e)},a=null!==(i=null==o?void 0:o.targetEl)&&void 0!==i?i:window;return e?(a.addEventListener("click",s),window.addEventListener("keydown",s)):(a.removeEventListener("click",s),window.removeEventListener("keydown",s)),function(){a.removeEventListener("click",s),window.removeEventListener("keydown",s)}},[null==o?void 0:o.keyboardEvents,null==o?void 0:o.targetEl,t,e])}}}]);