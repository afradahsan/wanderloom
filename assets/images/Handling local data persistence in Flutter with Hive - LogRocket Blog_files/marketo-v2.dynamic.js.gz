window['marketo-v2Deps'] = ["/integrations/vendor/commons.c42222c4cb2f8913500f.js"];window['marketo-v2Loader'] = function() { return window["marketo-v2Integration"]=function(e){function o(o){for(var n,a,l=o[0],s=o[1],d=o[2],u=0,m=[];u<l.length;u++)a=l[u],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&m.push(r[a][0]),r[a]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(c&&c(o);m.length;)m.shift()();return i.push.apply(i,d||[]),t()}function t(){for(var e,o=0;o<i.length;o++){for(var t=i[o],n=!0,l=1;l<t.length;l++){var s=t[l];0!==r[s]&&(n=!1)}n&&(i.splice(o--,1),e=a(a.s=t[0]))}return e}var n={},r={83:0},i=[];function a(o){if(n[o])return n[o].exports;var t=n[o]={i:o,l:!1,exports:{}};return e[o].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=e,a.c=n,a.d=function(e,o,t){a.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:t})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,o){if(1&o&&(e=a(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var n in e)a.d(t,n,function(o){return e[o]}.bind(null,n));return t},a.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(o,"a",o),o},a.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},a.p="";var l=window.webpackJsonp_name_Integration=window.webpackJsonp_name_Integration||[],s=l.push.bind(l);l.push=o,l=l.slice();for(var d=0;d<l.length;d++)o(l[d]);var c=s;return i.push(["Dq0W",0]),t()}({Dq0W:function(e,o,t){"use strict";var n=t("hjHq"),r=t("qMUi"),i=t("Xhoa"),a=t("patC"),l=t("6YGp"),s={annualRevenue:"AnnualRevenue",anonymousIP:"AnonymousIP",billingCity:"BillingCity",billingCountry:"BillingCountry",billingPostalCode:"BillingPostalCode",billingState:"BillingState",billingStreet:"BillingStreet",department:"Department",doNotCall:"DoNotCall",doNotCallReason:"DoNotCallReason",emailInvalid:"EmailInvalid",emailInvalidCause:"EmailInvalidCause",fax:"Fax",industry:"Industry",inferredCompany:"InferredCompany",inferredCountry:"InferredCountry",leadRole:"LeadRole",leadScore:"LeadScore",leadSource:"LeadSource",leadStatus:"LeadStatus",mainPhone:"MainPhone",facebookDisplayName:"MarketoSocialFacebookDisplayName",facebookId:"MarketoSocialFacebookId",facebookPhotoURL:"MarketoSocialFacebookPhotoURL",facebookProfileURL:"MarketoSocialFacebookProfileURL",facebookReach:"MarketoSocialFacebookReach",facebookReferredEnrollments:"MarketoSocialFacebookReferredEnrollments",facebookReferredVisits:"MarketoSocialFacebookReferredVisits",lastReferredEnrollment:"MarketoSocialLastReferredEnrollment",lastReferredVisit:"MarketoSocialLastReferredVisit",linkedInDisplayName:"MarketoSocialLinkedInDisplayName",linkedInId:"MarketoSocialLinkedInId",linkedInPhotoURL:"MarketoSocialLinkedInPhotoURL",linkedInProfileURL:"MarketoSocialLinkedInProfileURL",linkedInReach:"MarketoSocialLinkedInReach",linkedInReferredEnrollments:"MarketoSocialLinkedInReferredEnrollments",linkedInReferredVisits:"MarketoSocialLinkedInReferredVisits",syndicationId:"MarketoSocialSyndicationId",totalReferredEnrollments:"MarketoSocialTotalReferredEnrollments",totalReferredVisits:"MarketoSocialTotalReferredVisits",twitterDisplayName:"MarketoSocialTwitterDisplayName",twitterId:"MarketoSocialTwitterId",twitterPhotoURL:"MarketoSocialTwitterPhotoURL",twitterProfileURL:"MarketoSocialTwitterProfileURL",twitterReach:"MarketoSocialTwitterReach",twitterReferredEnrollments:"MarketoSocialTwitterReferredEnrollments",twitterReferredVisits:"MarketoSocialTwitterReferredVisits",middleName:"MiddleName",mktoCompanyNotes:"MktoCompanyNotes",mktoPersonNotes:"MktoPersonNotes",mobilePhone:"MobilePhone",numberOfEmployees:"NumberOfEmployees",rating:"Rating",salutation:"Salutation",sicCode:"SICCode",site:"Site",title:"Title",unsubscribed:"Unsubscribed",unsubscribedReason:"UnsubscribedReason",website:"Website"},d=e.exports=n("Marketo V2").assumesPageview().global("Munchkin").global("MktForms2").option("host","https://api.segment.io").option("accountId","").option("projectId","").option("marketoHostUrl","").option("marketoFormId","").option("traits",[]).tag('<script src="//munchkin.marketo.net/munchkin.js">').tag("forms",'<script src="{{marketoHostUrl}}/js/forms2/js/forms2.min.js">'),c=function(e){e&&e.onSuccess((function(){return!1}))};d.prototype.initialize=function(){var e=this.options.accountId,o=this.options.marketoHostUrl,t=parseInt(this.options.marketoFormId,10);if(void 0===o||""===o||Number.isNaN(t)||t<=0)console.warn("Invalid settings for identify method. Please review your Marketo V2 destination settings.");else{var n=this;this.load((function(){void 0!==window.Munchkin&&(window.Munchkin.init(e,{asyncOnly:!0}),a(n.loaded,n.ready))})),this.load("forms",{marketoHostUrl:o},(function(){if(void 0!==window.MktoForms2){var n=document.createElement("form");n.setAttribute("id","mktoForm_"+t),n.setAttribute("style","display:none"),document.body.appendChild(n),window.MktoForms2.loadForm(o,e,t,(function(e){c(e)}))}}))}},d.prototype.loaded=function(){return r.object(window.Munchkin)&&!!window.MunchkinTracker},d.prototype.page=function(e){if(e.enabled("Marketo")){var o=e.properties(),t=i.parse(o.url);void 0!==window.mktoMunchkinFunction&&window.mktoMunchkinFunction("visitWebPage",{url:o.url,params:t.query})}},d.prototype.setupAndSubmitForm=function(e,o){o.addHiddenFields(e,o),c(o),o.submit()},d.prototype.identify=function(e){if(e.enabled("Marketo")){var o=this,t=this.options,n=e.email();if(n){var i={},a=e.traits(),d=e.proxy("traits.company"),c=e.address();i.Email=n,e.birthday()&&(i.DateofBirth=e.birthday()),e.firstName()&&(i.FirstName=e.firstName()),e.gender()&&(i.MarketoSocialGender=e.gender()),e.lastName()&&(i.LastName=e.lastName()),e.phone()&&(i.Phone=e.phone()),e.userId()&&(i.userId=e.userId()),e.anonymousId()&&(i.anonymousId=e.anonymousId()),c&&(r.object(c)?(i.City=c.city,i.Country=c.country,i.PostalCode=c.zip||c.postalCode,i.State=c.state):i.Address=c),d&&(r.object(d)?i.Company=d.name:i.Company=d),l((function(e){var o=e.value?e.value.segmentTrait:e.segmentTrait,t=e.value?e.value.marketoFieldName:e.marketoFieldName;s[t]&&(t=s[t]),void 0!==a[o]&&(i[t]=a[o])}),t.traits),void 0!==window.MktoForms2&&window.MktoForms2.whenReady((function(e){var n=parseInt(t.marketoFormId,10);!(Number.isNaN(n)||n<=0)&&e.getId()===n&&o.setupAndSubmitForm(i,e)}))}}}}});
//# sourceMappingURL=marketo-v2.js.map
};