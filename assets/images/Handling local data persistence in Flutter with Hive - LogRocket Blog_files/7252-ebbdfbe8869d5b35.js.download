(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7252],{82406:function(e,t,n){var r=n(41225),i=n(67878),o=n(39045),s=n(29259);e.exports=function(e,t,n){if(!s(n))return!1;var a=typeof t;return("number"==a?!!(i(n)&&o(t,n.length)):"string"==a&&t in n)&&r(n[t],e)}},93586:function(e,t,n){var r=n(39872),i=n(82406),o=n(38101),s=Math.ceil,a=Math.max;e.exports=function(e,t,n){t=(n?i(e,t,n):void 0===t)?1:a(o(t),0);var l=null==e?0:e.length;if(!l||t<1)return[];for(var u=0,c=0,d=Array(s(l/t));u<l;)d[c++]=r(e,u,u+=t);return d}},67948:function(e,t,n){"use strict";n.d(t,{Z:function(){return G}});var r=n(98788),i=n(70865),o=n(66383),s=n(22970),a=n(52322),l=n(60845),u=n(30032),c=n(269),d=n(92642),p=n(97729),f=n.n(p),m=n(5632),h=n(2784),v=n(53476),g=n(9139),y=n(8518),b=n(63072),w=n(71065),x=n(84043),k=n(23238),S=n(51989),T=n(96670),j=n(64989),I=n(49748),_=n(60058),N="See it live",C=function(e){var t=e.shouldRender,n=void 0!==t&&t,r=e.buttonBgColor,s=e.buttonFgColor,u=e.buttonText,c=e.exportMode,d=e.className,p=e.children,f=e.onRendered,m=e.onDismissed,g=(0,o.Z)((0,v.FV)(I.H.isStartOverlayActive),2),y=g[0],w=g[1],x=(0,v.sJ)(I.H.mobileInfo).isScreenSizeSmall,k=(0,j.u)().hasWrapper,S=(0,h.useState)(n),C=S[0],E=S[1];return(0,h.useEffect)(function(){return w(n)},[w,n]),(0,h.useEffect)(function(){n&&(null==f||f(u||N))},[]),(0,a.jsx)("div",{className:"flex w-full h-full",children:(0,a.jsxs)("div",{className:(0,l.cn)(d,{"rounded-t-lg":x,"rounded-lg overflow-hidden relative":!x&&!k,"rounded-none":c}),children:[p,C&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",(0,i.Z)({className:(0,l.cn)("first:transition-opacity ease-in absolute inset-0 bg-white/30 overflow-hidden rounded-b-lg w-full h-full",{"opacity-50 duration-200":y,"opacity-0 duration-500":!y,"rounded-lg overflow-hidden top-[-1px] left-[-1px] right-[-1px] bottom-[-1px]":x&&!c,"rounded-none":c})},(0,_.i8)(_.KN.StartOverlay,-1))),(0,a.jsx)("div",(0,T.Z)((0,i.Z)({className:(0,l.cn)("transition-opacity ease-in-out absolute top-0 left-0 right-0 bottom-0 flex items-center justify-center backdrop-blur-[5px] firefox:bg-white firefox:bg-opacity-70 overflow-hidden rounded-b-lg w-[calc(100% - 2px)] h-[calc(100% - 2px)]",{"opacity-100 duration-200":y,"opacity-0 duration-500":!y,"rounded-t-lg top-[-1px] left-[-1px] right-[-1px] bottom-[-1px]":x})},(0,_.i8)(_.KN.StartOverlay)),{children:(0,a.jsx)(b.zx,{buttonType:b.qh.base,buttonSize:b.Ph.xl,className:"hover:ring-4 ring-gray-700 border-4 border-white hover:border-white ring-offset-white",style:{backgroundColor:r,color:s},onClick:function(){w(!1),setTimeout(function(){E(!1)},700),m&&m()},children:u||N})}))]})]})})},E=n(93586),R=n.n(E),B="undefined"!=typeof window?h.useLayoutEffect:h.useEffect,M=n(97818);function P(e){var t,n,r=e.enabled,i=e.captionInfo,o=e.audioRef,s=(0,v.sJ)(I.H.showFlowNavIndicator),u=(0,h.useState)(""),c=u[0],d=u[1],p=(0,h.useState)(!1),f=p[0],m=p[1],g=(0,h.useMemo)(function(){var e=i.caption.replace(/\n+/g," ").replace(/\s{2,}/g," ").split(" ").filter(function(e){return""!==e});return R()(e,10).map(function(e){return e.join(" ")})},[i.caption]);(0,h.useEffect)(function(){var e=function(){return m(!0)},t=function(){return m(!1)},n=function(){m(!1),d("")},r=o.current;if(r)return r.addEventListener("play",e),r.addEventListener("pause",t),r.addEventListener("abort",n),function(){r.removeEventListener("play",e),r.removeEventListener("pause",t),r.addEventListener("abort",n)}},[o]);var y=(n=(0,h.useRef)(),(0,h.useEffect)(function(){n.current=f}),n.current);return B(function(){var e,t,n="",r=0;function s(){if(null===(t=o.current)||void 0===t?void 0:t.paused){e&&cancelAnimationFrame(e);return}if(null===(n=i.timepoints)||void 0===n?void 0:n.length){var t,n,a,l,u=i.timepoints.sort(function(e,t){return e.timeSeconds-t.timeSeconds}).map(function(e,t){return t%10==0?e.timeSeconds:null}).filter(function(e){return null!==e}),c=(0,M.zs)((null!==(l=null===(a=o.current)||void 0===a?void 0:a.currentTime)&&void 0!==l?l:0)-1,u);c>-1&&(d(g[c]),e=requestAnimationFrame(s))}else{var p,f,m,h,v,y=(null!==(m=null===(p=o.current)||void 0===p?void 0:p.duration)&&void 0!==m?m:0)/(null!==(h=g.length)&&void 0!==h?h:1);(r=Math.floor((null!==(v=null===(f=o.current)||void 0===f?void 0:f.currentTime)&&void 0!==v?v:0)/y))<g.length&&(d(g[r]),e=requestAnimationFrame(s))}}return f&&(r=0,e=requestAnimationFrame(s)),y&&!f&&(r=0,e&&(cancelAnimationFrame(e),e=void 0),t=setTimeout(function(){d("")},1200)),function(){e&&cancelAnimationFrame(e),t&&clearTimeout(t)}},[o,g,i.caption,i.timepoints,f,y,]),r&&""!==c?(0,a.jsx)("div",{className:(0,l.cn)("fixed left-4 right-4 bottom-4 sm:left-8 sm:right-8 flex items-center justify-center min-h-16 max-w-3/4 min-w-1/2 pointer-events-none transition-all duration-300",{"sm:bottom-10":s}),style:(0,_.m)(_.KN.VoiceoverCaptions),children:(0,a.jsx)("div",{className:"p-2 sm:py-1.5 sm:px-2 md:py-2 md:px-3 bg-gray-900/70 rounded-lg font-medium text-xs sm:text-sm md:text-base text-white text-left backdrop-blur-sm",children:c})}):null}var F=n(42303),O=function(e){var t=e.intersectionRect,n=e.boundingClientRect;if(0===t.width&&0===t.height)return"hidden";var r=.1*n.width,i=.1*n.height,o=Math.abs(t.top-n.top)>i,s=Math.abs(t.right-n.right)>r,a=Math.abs(t.bottom-n.bottom)>i,l=Math.abs(t.left-n.left)>r,u=+o+ +s+ +a+ +l;return 0===u?"visible":u>1?"obscured-multi":o?"obscured-top":s?"obscured-right":a?"obscured-bottom":l?"obscured-left":"hidden"},A=function(e){var t=(0,h.useRef)(null),n=(0,h.useRef)(0),r=(0,h.useRef)(Date.now()),i=(0,h.useRef)(),o=(0,v.Zl)(I.H.isArcadeFrameVisible),s=(0,h.useCallback)(function(a){clearTimeout(i.current),"visible"===t.current&&(n.current+=Date.now()-r.current),t.current=a,r.current=Date.now(),"visible"===a&&n.current<3e3&&(i.current=setTimeout(function(){"visible"===t.current&&s(t.current)},3e3-n.current)),o("hidden"!==a),e({state:a,visibleTimeMs:n.current,visibleTimeExceedsThreshold:n.current>=3e3})},[e,o]);(0,h.useEffect)(function(){if(window&&"IntersectionObserver"in window){var e=new IntersectionObserver(function(e){return e.forEach(function(e){var r=O(e);(n.current<3e3||r!==t.current)&&s(r)})},{root:null,threshold:[0,.1,.9,1]});return e.observe(document.documentElement),function(){e.disconnect(),clearTimeout(i.current)}}},[s])},Z=n(59802),V=n(74876),z=n(13888),H=n.n(z),q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(0,j.u)(),o=r.activeStep,s=r.setActiveStep,a=(0,v.Zl)(I.H.isPanAndZoomAnimationActive);(0,h.useEffect)(function(){if(e&&n){var r,l=function(r){if(r.isTrusted&&n&&("navigate-to-step"!==r.data.event||(i=e.steps.find(function(e){return e.id===r.data.stepId}))&&r.data.stepId!==(null==o?void 0:o.id))&&("identify-user"===r.data.event&&r.data.user&&(null===(l=window.__arcadeTracker)||void 0===l||l.identify(r.data.user.id,r.data.user.traits)),"reset"===r.data.event&&(i=e.steps[0]),i&&i.id!==(null==o?void 0:o.id))){var i,l,u,c;a(!!((null==o?void 0:null===(u=o.hotspots)||void 0===u?void 0:u.some(function(e){return"pulsating"===e.style}))&&(null===(c=i.hotspots)||void 0===c?void 0:c.some(function(e){return"pulsating"===e.style})))),s(i.id),t.report("Remote Control Step Navigated",{stepId:i.id,origin:r.origin})}};return null===(r=window.parent)||void 0===r||r.postMessage({event:"arcade-state-update",arcade:(0,T.Z)((0,i.Z)({},H()(e,["id","name","description"])),{steps:e.steps.map(function(e,t){return(0,T.Z)((0,i.Z)({},H()(e,["id","name","description","type"])),{order:t+1,isActive:e.id===(null==o?void 0:o.id)})})})},"*"),window.addEventListener("message",l),function(){window.removeEventListener("message",l)}}},[null==o?void 0:o.id,e,s,n,t])},L=n(48878),U=n(33067),W=n(16283),K=n(15529),D=n(6364),$=n(79826);function G(e){var t,p,T,N,E,R,B,O,z,H,G,J,Q,Y,X,ee,et,en,er,ei,eo=e.twitterCardHeight,es=e.demoBaseUrl,ea=e.appBaseUrl,el=e.previewThumbUrl,eu=e.features,ec=e.watermarkCustomProps,ed=e.showArcadeButton,ep=e.flowBelongsToFreeUser,ef=(0,h.useState)(function(){return(0,D.Z)()})[0],em=(0,m.useRouter)(),eh=(0,j.u)(),ev=eh.flow,eg=eh.customLink,ey=eh.customValues,eb=eh.hasWrapper,ew=eh.activeStep,ex=eh.setActiveStep,ek=(0,h.useMemo)(function(){return{queryBgUrl:null!==(B=em.query.bg)&&void 0!==B?B:"",forcePublishToHost:"true"===em.query.force_publish_to_host,forceNoStartOverlay:"true"===em.query.force_no_start_overlay,forceNoCta:"true"===em.query.force_no_cta,forceNoWrapper:"true"===em.query.force_no_wrapper,forceNoBackground:"true"===em.query.force_no_background,forceNoNavigation:"true"===em.query.force_no_nav,forceWatermark:"true"===em.query.force_watermark,forceEmbed:"embed"in em.query,forceNoMobileView:"true"===em.query.force_no_mobile_view,exportMode:"true"===em.query.export_mode,userId:null!==(O=em.query.user_id)&&void 0!==O?O:"",amplitudeApiKey:null!==(z=em.query.amplitude_api_key)&&void 0!==z?z:"",measurementId:null!==(H=em.query.measurement_id)&&void 0!==H?H:"",containerId:null!==(G=em.query.container_id)&&void 0!==G?G:"",mixpanelToken:null!==(J=em.query.mixpanel_token)&&void 0!==J?J:"",writeKey:null!==(Q=em.query.write_key)&&void 0!==Q?Q:"",intercomAppId:null!==(Y=em.query.intercom_app_id)&&void 0!==Y?Y:"",portalId:null!==(X=em.query.portal_id)&&void 0!==X?X:""}},[em.query]),eS=ek.queryBgUrl,eT=ek.forcePublishToHost,ej=ek.forceNoStartOverlay,eI=ek.forceNoCta,e_=ek.forceNoWrapper,eN=ek.forceNoBackground,eC=ek.forceNoNavigation,eE=ek.forceWatermark,eR=ek.forceEmbed,eB=ek.forceNoMobileView,eM=ek.exportMode,eP=ek.userId,eF=ek.amplitudeApiKey,eO=ek.measurementId,eA=ek.containerId,eZ=ek.mixpanelToken,eV=ek.writeKey,ez=ek.intercomAppId,eH=ek.portalId,eq=(0,h.useRef)(null),eL=(0,h.useRef)(null),eU=(0,v.Zl)(I.H.isHistoryNav),eW=(0,v.sJ)(I.H.firstStepContentIsReady),eK=(0,v.sJ)(I.H.isCaptionOn),eD=(0,M.yL)(),e$=(0,Z.Q)({forceNoMobileView:eB}),eG=e$.isIOS,eJ=e$.isScreenSizeSmall,eQ=(0,h.useState)(!1),eY=eQ[0],eX=eQ[1];(0,h.useEffect)(function(){setTimeout(function(){return eX(!0)},0)},[]),(0,h.useEffect)(function(){!em.isReady||eD||eR||("demo.arcade.software"===window.location.hostname?em.push("https://app.arcade.software/share/".concat(ev.id)):em.push("/share/".concat(ev.id)))},[eD,ev.id,em,eR]);var e0,e1,e3,e2,e8,e4=(0,U.r)("Viewer",{sessionId:ef,flowId:ev.id,flowName:ev.name,flowGroup:null!==(ee=ev.group)&&void 0!==ee?ee:"",flowStructureHash:null!==(et=ev.structureHash)&&void 0!==et?et:"",pageWidth:M.jU?window.innerWidth:0,pageHeight:M.jU?window.innerHeight:0,customLinkId:null!==(en=null==eg?void 0:eg.id)&&void 0!==en?en:null,hasCustomValues:!!Object.keys(ey).length},{shouldPublishToHost:eT||(null==eu?void 0:eu[c.Feature.PublishEventsToHost]),shouldAnonymizeIP:null==eu?void 0:eu[c.Feature.DisableIPTracking],doNotTrack:ev.status!==c.PublishStatus.published||(null==eu?void 0:eu[c.Feature.DoNotTrack])}),e9=(0,h.useState)(!1),e6=e9[0],e7=e9[1];(0,h.useEffect)(function(){!ev.firstViewed&&!e6&&(e4.report("Flow First Viewed",{}),e7(!0))},[e6,ev,e4]),(0,h.useEffect)(function(){var e=function(e){var t;(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.event)==="cookie-consent"&&(e4.enableTracking(),e4.report("Enable Tracker",{origin:null==e?void 0:e.origin}))};return window.addEventListener("message",e),function(){return window.removeEventListener("message",e)}},[ev,e4]),(0,h.useEffect)(function(){if(ef){var e;null===(e=window.parent)||void 0===e||e.postMessage({event:"arcade-session-id",sessionId:ef},"*")}},[ef]),q(ev,e4,((null==eu?void 0:eu[c.Feature.PublishEventsToHost])||eT)&&eW),e1=(e0={config:{targets:[{name:"Amplitude",key:eF},{name:"Google Analytics",key:eO},{name:"Google Tag Manager",key:eA},{name:"HubSpot",key:eH},{name:"Intercom",key:ez},{name:"Mixpanel",key:eZ},{name:"Segment",key:eV},]},userId:eP,shouldAnonymizeIP:!!(null==eu?void 0:eu[c.Feature.DisableIPTracking]),doNotTrack:!!(null==eu?void 0:eu[c.Feature.DoNotTrack])}).config,e3=e0.userId,e2=e0.shouldAnonymizeIP,e8=e0.doNotTrack,(0,h.useEffect)(function(){0!==e1.targets.filter(function(e){return!!e.key}).length&&!window.__arcadeTracker&&(0,r.Z)(function(){var e,t,r,i,o,a,l,u,c,d,p,f,m,h,v,g,y,b,w,x,k,S,T,j,I,_;return(0,s.__generator)(this,function(t){switch(t.label){case 0:return[4,n.e(8249).then(n.bind(n,8249))];case 1:return e=t.sent().default,[4,n.e(6631).then(n.bind(n,66631))];case 2:r=[(0,t.sent().default)()],i=!0,o=!1,a=void 0,t.label=3;case 3:t.trys.push([3,21,22,23]),l=e1.targets[Symbol.iterator](),t.label=4;case 4:if(i=(u=l.next()).done)return[3,20];if(!(c=u.value).key)return[3,19];switch(d=c.name){case"Amplitude":return[3,5];case"Google Analytics":return[3,7];case"Google Tag Manager":return[3,9];case"HubSpot":return[3,11];case"Intercom":return[3,13];case"Mixpanel":return[3,15];case"Segment":return[3,17]}return[3,19];case 5:return g=null===(f=null===(p=c.key)||void 0===p?void 0:p.split("__"))||void 0===f?void 0:f[0],y=(null===(h=null===(m=c.key)||void 0===m?void 0:m.split("__"))||void 0===h?void 0:null===(v=h[1])||void 0===v?void 0:v.toLowerCase())==="eu"?"EU":"US",[4,n.e(3328).then(n.bind(n,43328))];case 6:return b=t.sent().default,r.push(b({apiKey:g,options:{identityStorage:"localStorage",defaultTracking:{sessions:!1,pageViews:!1,formInteractions:!1,fileDownloads:!1},optOut:!!e8||(null==navigator?void 0:navigator.doNotTrack)==="1",trackingOptions:{ipAddress:!e2},serverZone:y}})),[3,19];case 7:return w=r.push,[4,n.e(7309).then(n.bind(n,47309))];case 8:return w.apply(r,[t.sent().default({measurementIds:[c.key],gtagConfig:{anonymize_ip:e2}})]),[3,19];case 9:return x=r.push,[4,n.e(198).then(n.bind(n,80198))];case 10:return x.apply(r,[t.sent().default({containerId:c.key})]),[3,19];case 11:return k=r.push,[4,n.e(1737).then(n.bind(n,71737))];case 12:return k.apply(r,[t.sent().default({portalId:c.key})]),[3,19];case 13:return S=r.push,[4,n.e(7811).then(n.bind(n,37811))];case 14:return S.apply(r,[t.sent().default({appId:c.key,disableAnonymousTraffic:!1,alignment:"right"})]),[3,19];case 15:return T=r.push,[4,n.e(4224).then(n.bind(n,14224))];case 16:return T.apply(r,[t.sent().default({token:c.key})]),[3,19];case 17:return j=r.push,[4,n.e(6981).then(n.bind(n,56981))];case 18:return j.apply(r,[t.sent().default({writeKey:c.key})]),[3,19];case 19:return i=!0,[3,4];case 20:return[3,23];case 21:return I=t.sent(),o=!0,a=I,[3,23];case 22:try{i||null==l.return||l.return()}finally{if(o)throw a}return[7];case 23:return(_=e({app:"arcade",plugins:r})).ready(function(){!window.__arcadeTracker&&(window.__arcadeTracker=_,e3&&window.__arcadeTracker.identify(e3))}),[2]}})})()},[e1,e8,e2,e3]);var e5=e_?c.FlowWrapper.none:ev.flowWrapper,te=eN?void 0:eS||(null===(t=ev.bgImage)||void 0===t?void 0:t.url),tt=ev.showStartOverlay&&!ej,tn=te&&!eJ?.8:1,tr=(0,v.Zl)(I.H.stageDimensions),ti=(0,v.Zl)(I.H.isOnLastStep),to=(0,o.Z)((0,v.FV)(I.H.historyStack),2),ts=to[0],ta=to[1],tl=(0,F.a)(ev,!1,!0).aspectRatio;(0,h.useEffect)(function(){return document.body.classList.add("overflow-hidden"),function(){document.body.classList.remove("overflow-hidden")}},[]);var tu=(0,h.useCallback)(function(){if(ev){var e=e5===c.FlowWrapper.none||eJ?0:2.2,t=(window.innerWidth-e)*tn,n=(window.innerWidth-e)*tn*tl;tr({width:t,height:n}),window.parent.postMessage(JSON.stringify({src:window.location.toString(),context:"iframe.resize",height:n}),"*")}},[ev,e5,tl,eJ,tr,tn,]);(0,L.y)({watchBody:!0,onResize:tu});var tc=(0,h.useMemo)(function(){var e,t;return(null==ew?void 0:ew.type)===c.StepType.Image&&0===ew.hotspots.length||(null===(e=ev.steps[ev.steps.length-1])||void 0===e?void 0:e.id)===(null==ew?void 0:ew.id)||!!(null==ew?void 0:null===(t=ew.cta)||void 0===t?void 0:t.id)},[null==ew?void 0:null===(p=ew.cta)||void 0===p?void 0:p.id,null==ew?void 0:ew.hotspots.length,null==ew?void 0:ew.id,null==ew?void 0:ew.type,ev.steps,]);(0,h.useEffect)(function(){ti(tc)},[tc,ti]);var td=(0,h.useMemo)(function(){return new u.Z(ev.steps,ev.structureBits)},[ev.steps,ev.structureBits]),tp=(0,V.D)(ew);(0,h.useEffect)(function(){if((null==ew?void 0:ew.id)&&ew.id!==(null==tp?void 0:tp.id)){var e,t=ew.id,n=null!==(e=null==tp?void 0:tp.id)&&void 0!==e?e:null;e4.report("Step Reached",(0,i.Z)({stepId:t,fromStepId:n,isInitialStep:!tp,isFinalStep:tc},td.getStepReachedProps(t,n)))}},[ew,tp,tc,e4,td]);var tf=(0,h.useCallback)(function(){if((null==ew?void 0:ew.type)===c.StepType.Video){var e=document.getElementById(ew.id);e&&e.pause()}if(ex(ev.steps[0].id),ts.add(ev.steps[0].id),ev.steps[0].type===c.StepType.Video&&1===ev.steps.length){ti(!1);var t=document.getElementById(ev.steps[0].id);t.currentTime=0,t.play()}e4.report("Flow Restarted",{})},[ew,ev.steps,ts,ex,ti,e4,]);(0,h.useEffect)(function(){return ta(new M.Nk)},[ta]);var tm=(0,h.useCallback)((0,r.Z)(function(){var e,t;return(0,s.__generator)(this,function(n){return ts.hasPrevious()&&(e=ts.getPrevious(),(t=ev.steps.find(function(t){return t.id===e}))&&(t.type===c.StepType.Video&&setTimeout((0,r.Z)(function(){var e,n;return(0,s.__generator)(this,function(r){switch(r.label){case 0:if(!(e=document.getElementById(t.id)))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),(0,d.Tb)(n),[3,4];case 4:return[2]}})}),200),eU(!0),ex(t.id),e4.report("Back Button Clicked",{}))),[2]})}),[ev.steps,ts,ex,eU,e4]),th=(0,h.useCallback)((0,r.Z)(function(){var e,t,n,r;return(0,s.__generator)(this,function(i){switch(i.label){case 0:if(!ts.hasNext())return[2];if(e=ts.getNext(),!(t=ev.steps.find(function(t){return t.id===e})))return[3,5];if(t.type!==c.StepType.Video||!(n=document.getElementById(t.id)))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.play()];case 2:return i.sent(),[3,4];case 3:return r=i.sent(),(0,d.Tb)(r),[3,4];case 4:eU(!0),ex(t.id),e4.report("Forward Button Clicked",{}),i.label=5;case 5:return[2]}})}),[ev.steps,ts,ex,eU,e4]),tv=(0,h.useMemo)(function(){return(0,K.q)(ev)},[ev]),tg=tv.buttonBgColor,ty=tv.buttonFgColor,tb=(0,h.useCallback)(function(e){return window.open((null==ec?void 0:ec.link)||"https://arcade.software","_blank"),e4.report("Powered by Arcade Button Clicked",(null==ec?void 0:ec.link)?{url:null==ec?void 0:ec.link,expanded:e}:{expanded:e}),!0},[e4,ec]),tw=(0,h.useCallback)(function(){e4.report("Discovered Arcade Button",{})},[e4]),tx=(0,h.useCallback)(function(){e4.report("Closed Arcade Button",{})},[e4]);A(function(e){var t=e.state,n=e.visibleTimeMs,r=e.visibleTimeExceedsThreshold;e4.report("Frame Visibility",{state:t,visibleTimeMs:n,visibleTimeExceedsThreshold:r})}),(0,h.useEffect)(function(){return window.onbeforeunload=function(){e4.report("Page Unloaded",{})},function(){window.onbeforeunload=null}},[e4]);var tk=ed||eE,tS=(0,h.useState)(!1),tT=tS[0],tj=tS[1];(0,h.useEffect)(function(){tk&&ep&&tc&&!eJ&&!eM&&tj(!0)},[tk,ep,tc,eJ,eM,]);var tI=(0,h.useRef)(null);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(f(),{children:[(0,a.jsx)("title",{children:(0,l.withCustomVariables)(ev.name,ev.customVariables,ey)}),(0,a.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,a.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:""}),(0,a.jsx)("style",{type:"text/css",children:"body {\n            font-family: ".concat(ev.font,', ui-sans-serif, system-ui, -apple-system, system-ui, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji" !important;\n          }')}),(0,a.jsx)("link",{rel:"preconnect",href:"https://stream.mux.com"}),(0,a.jsx)("link",{rel:"preconnect",href:"https://image.mux.com"})]}),(0,a.jsx)(S.i,{demoBaseUrl:es,appBaseUrl:ea,previewThumbUrl:el,twitterCardHeight:eo}),(0,a.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=".concat(ev.font,"&display=swap"),rel:"stylesheet"}),(0,a.jsxs)("div",{className:(0,l.cn)("w-full overflow-hidden flex h-screen transition-opacity items-start justify-center",{"bg-black":!!te&&!eJ,"opacity-0":!eD&&!eR,"opacity-100":eD||eR,"!items-start rounded-lg":eJ&&!eM,"!items-center":!eb&&te&&!eJ}),children:[eJ&&(0,a.jsx)("div",{className:(0,l.cn)("absolute flex inset-0 bottom-[1px] pointer-events-none rounded-lg border border-gray-900/[.16]",{"rounded-none":eM}),style:{zIndex:(0,_.LM)(_.KN.MobileInnerBorder)}}),!eJ&&te&&(0,a.jsx)(k.Z,{className:(0,l.cn)("select-none absolute top-0 left-0 transform-gpu transition-opacity duration-1000",{"opacity-0":0===tl,"opacity-100":tl>0}),src:(0,M.R9)(te),alt:"background",layout:"fill",objectPosition:"0 0",objectFit:"cover",placeholder:"blur",blurDataURL:(null===(T=ev.bgImage)||void 0===T?void 0:T.blurhash)&&"undefined"!=typeof document?(0,M.vl)(ev.bgImage.blurhash,100,100*ev.aspectRatio):$.Rz,priority:!0}),(0,a.jsxs)(x.Z,{className:(0,l.cn)({"opacity-100 transition-opacity transform-gpu duration-300":eY}),title:ev.name,onRefresh:tf,onBack:tm,onForward:th,allowFullscreen:!0,hasBackgroundImage:!!te&&!eJ,flowWrapper:e5,features:eu,stageRef:eq,exportMode:eM,tracker:e4,children:[(0,a.jsxs)(C,{className:"w-full h-full",shouldRender:!!tt,buttonText:ev.startOverlayButtonText,buttonBgColor:tg,buttonFgColor:ty,exportMode:eM,onRendered:function(e){e4.report("Start Overlay Rendered",{buttonText:e})},onDismissed:function(){e4.report("Start Overlay Dismissed",{})},children:[(0,a.jsx)(w.Z,{flow:ev,tracker:e4,disableCTA:eI,disableNavigation:eC,isWatermarkDisplayed:tk,disablePlayButton:ej,disableTracking:!!(null==eu?void 0:eu["Do Not Track"]),stageRef:eq,exportMode:eM,viewerVideoControlsRef:tI,audioRef:eL}),(0,a.jsx)(g.E,{shouldDisplay:tk,onClick:tb,onMouseEnter:tw,customProps:ec,expanded:tT,onClose:tx})]}),!eM&&(0,a.jsx)("div",{className:(0,l.cn)("absolute",{"top-3 right-4":e5!==c.FlowWrapper.none||eG&&!(0,W.Kt)(ev),"top-12 right-4":e5===c.FlowWrapper.none&&!eG,"top-11 right-3":eJ||eG&&(0,W.Kt)(ev)}),children:(0,a.jsx)(y.Z,{url:null==ew?void 0:null===(N=ew.syntheticVoice)||void 0===N?void 0:N.url,showTooltip:!0,size:eJ?b.Ph.md:b.Ph.xl,playDelay:1500,audioRef:eL,tracker:e4})}),(0,a.jsx)(P,{enabled:eK,captionInfo:{caption:null!==(er=null==ew?void 0:null===(E=ew.syntheticVoice)||void 0===E?void 0:E.script)&&void 0!==er?er:"",timepoints:null!==(ei=null==ew?void 0:null===(R=ew.syntheticVoice)||void 0===R?void 0:R.timepoints)&&void 0!==ei?ei:[]},audioRef:eL})]})]})]})}},95589:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(52322),i=n(39097),o=n.n(i),s=n(2784),a=n(71869),l=n(60058),u=n(63072),c=n(29050),d=n(23238);function p(e){var t=e.content,n=e.title,i=e.placement,p=void 0===i?"auto":i,f=e.media,m=e.link,h=e.reference,v=e.enabled,g=void 0===v||v,y=e.trigger,b=void 0===y?"click":y,w=e.tooltipContent,x=void 0===w?"":w,k=e.tooltipZIndex,S=void 0===k?l.KN.StepTools:k,T=e.onClickWhenNotEnabled,j=e.tracker,I=e.source,_=e.children,N=(0,s.useState)(!1),C=N[0],E=N[1];return(0,r.jsx)(c.default,{enabled:g,tippyClassName:"max-w-[280px] whitespace-normal",reference:h,placement:p,appendTo:function(){return document.body},zIndex:(0,l.LM)(l.KN.PaywallTippy),wrapperClassName:"flex",render:function(e){var i=e.isOpen,s=e.toggle;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"paywall-interactive-content p-4 flex flex-col",onMouseLeave:function(){i&&"hover"===b&&s()},children:[f&&(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)(d.Z,{layout:"responsive",placeholder:"blur",src:f,alt:null!=n?n:"Upgrade to Pro",className:"rounded-lg inner-border",width:248,height:136})}),(0,r.jsx)("h3",{className:"text-base font-semibold",children:null!=n?n:"Upgrade to Pro"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:t}),(0,r.jsxs)("div",{className:"flex flex-row gap-2 mt-4",children:[(0,r.jsx)(o(),{href:"/settings/billing",passHref:!0,children:(0,r.jsx)("a",{className:"rounded-lg",children:(0,r.jsx)(u.zx,{buttonType:u.qh.primary,buttonSize:u.Ph.md,onClick:function(){return j.report("Upgrade to Pro Clicked",{paywallSource:I})},children:"Upgrade"})})}),(0,r.jsx)(o(),{href:m,passHref:!0,children:(0,r.jsx)("a",{className:"rounded-lg",target:"_blank",children:(0,r.jsx)(u.zx,{buttonType:u.qh.light,buttonSize:u.Ph.md,onClick:function(){j.report("Read More About Pro Clicked",{paywallSource:I})},children:"Learn more"})})})]})]})})},children:function(e){var t=e.isOpen,n=e.toggle,i=e.open;return(0,r.jsx)(a.Z,{visible:C&&!t&&!!x,placement:p,text:x,reference:h,zIndex:S,children:(0,r.jsxs)("div",{"data-testid":"paywall-popup",className:"relative flex grow",onMouseEnter:function(){return"hover"===b?i():!!x&&E(!0)},onMouseLeave:function(){return!!x&&E(!1)},onClick:function(e){"click"===b&&(e.stopPropagation(),g?(t||j.report("Paywall Displayed",{paywallSource:I}),n()):null==T||T())},children:[_,t&&"hover"===b&&(0,r.jsx)("div",{className:"absolute top-[-30px] bottom-[-30px] left-[-70px] right-[-70px]",onMouseLeave:function(e){var t,r;(null===(t=e.relatedTarget)||void 0===t?void 0:null===(r=t.classList)||void 0===r?void 0:r.contains("paywall-interactive-content"))||n()}})]})})}})}},51989:function(e,t,n){"use strict";n.d(t,{i:function(){return f}});var r=n(52322),i=n(90016),o=n(60845),s=n(97729),a=n.n(s),l=n(45847),u=n.n(l),c=n(97818),d=n(64989),p=n(79826);function f(e){var t=e.previewThumbUrl,n=e.demoBaseUrl,s=e.appBaseUrl,l=e.twitterCardHeight,f=(0,d.u)(),m=f.flow,h=f.customLink,v=1920*m.aspectRatio,g=h?"/".concat(h.id):"",y=(0,o.withCustomVariables)(m.name,m.customVariables,null==h?void 0:h.variables),b=(0,o.withCustomVariables)(m.description,m.customVariables,null==h?void 0:h.variables);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a(),{children:[(0,r.jsx)("link",{rel:"iframely app",type:"text/html",href:"".concat(n,"/").concat(m.id).concat(g,"?embed"),media:"aspect-ratio: 1920/".concat(v,"; padding-bottom:").concat(i.BROWSER_BAR_OR_CAPTION_HEIGHT)}),(0,r.jsx)("link",{rel:"alternate",type:"application/json+oembed",href:"".concat((0,c.SV)(),"/api/oembed?url=").concat(encodeURI("".concat(s,"/share/").concat(m.id).concat(g))),title:y}),(0,r.jsx)("meta",{charSet:"UTF-8"}),(0,r.jsx)("meta",{name:"generator",content:"Powered by Arcade -- Creating interactive experiences. Visit us at https://arcade.software."}),(0,r.jsx)("meta",{content:"text/html; charset=UTF-8",httpEquiv:"Content-Type"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)("meta",{name:"robots",content:"max-image-preview:large".concat(m.preventIndexing?",noindex,nofollow":"")}),(0,r.jsx)("meta",{name:"description",content:b}),(0,r.jsx)("meta",{name:"author",content:m.group}),(0,r.jsx)("meta",{name:"copyright",content:"Arcade Software"}),(0,r.jsx)("meta",{name:"twitter:card",content:"player"}),(0,r.jsx)("meta",{name:"twitter:site",content:"@arcade_demo"}),(0,r.jsx)("meta",{name:"twitter:title",content:y}),(0,r.jsx)("meta",{name:"twitter:description",content:b}),(0,r.jsx)("meta",{name:"twitter:image:alt",content:b}),(0,r.jsx)("meta",{name:"twitter:image",content:t}),(0,r.jsx)("meta",{name:"twitter:player",content:"".concat(n,"/").concat(m.id).concat(g)}),(0,r.jsx)("meta",{name:"twitter:player:width",content:"".concat(p.dm)}),(0,r.jsx)("meta",{name:"twitter:player:height",content:"".concat(l)}),(0,r.jsx)("meta",{property:"og:locale",content:"en_US"}),(0,r.jsx)("meta",{property:"og:site_name",content:"Arcade"}),(0,r.jsx)("meta",{name:"title",property:"og:title",content:y}),(0,r.jsx)("meta",{name:"description",property:"og:description",content:b}),(0,r.jsx)("meta",{name:"image",property:"og:image",content:t}),(0,r.jsx)("meta",{property:"og:url",content:"".concat(s,"/share/").concat(m.id).concat(g)}),(0,r.jsx)("meta",{property:"og:image:width",content:"".concat(p.dm)}),(0,r.jsx)("meta",{property:"og:image:height",content:"".concat(l)}),(0,r.jsx)("meta",{property:"og:type",content:"article"}),(0,r.jsx)("meta",{property:"article:modified_time",content:m.modified.toISOString()})]}),(0,r.jsx)(u(),{id:"ld-json",type:"application/ld+json",dangerouslySetInnerHTML:{__html:'{\n            "@context": "http://schema.org/",\n            "@type": "Article",\n            "mainEntityOfPage": {\n              "@type": "WebPage",\n              "@id": "'.concat(s,"/share/").concat(m.id).concat(g,'"\n            },\n            "author": {\n              "@type": "Organization",\n              "name": "').concat(m.group,'"\n            },\n            "publisher": {\n              "@type": "Organization",\n              "name": "Arcade Software",\n              "logo": {\n                "@type": "ImageObject",\n                "url": "https://cdn.arcade.software/images/button-logo-128.png"\n              }\n            },\n            "headline": "').concat(y,'",\n            "image": "').concat(t,'",\n            "datePublished": "').concat(m.created.toISOString(),'",\n            "dateModified": "').concat(m.modified.toISOString(),'"\n          }')}})]})}},2546:function(e,t,n){"use strict";n.d(t,{S:function(){return p}});var r=n(70865),i=n(26297),o=n(52322),s=n(73463),a=n.n(s),l=n(16283),u=n(68632),c=n(96701),d=n(22015);function p(e){var t=function(t){var n=t._serializablePrivateFlow,s=t._serializablePublicFlow,a=t._serializableCustomLink,p=(0,i.Z)(t,["_serializablePrivateFlow","_serializablePublicFlow","_serializableCustomLink"]);if(!n&&!s)throw Error("withReadonlyFlow must be used with either withFlowSSR or withFlowStatic");var f=n?(0,u.to)(n):(0,l.l0)(s),m=a?(0,u.to)(a):void 0,h=(0,d.g)(f,{customLink:m,isReadonly:!0});return(0,o.jsx)(c.o,{contextProps:h,children:(0,o.jsx)(e,(0,r.Z)({},p))})};return t.displayName="WithReadonlyFlowHOC",a()(t,e),t}},59802:function(e,t,n){"use strict";n.d(t,{Q:function(){return p}});var r=n(70865),i=n(96670),o=n(66383),s=n(2784),a=n(53476),l=n(97818),u=n(49748),c=n(64989),d=n(48878);function p(e){var t=(0,c.u)().flow,n=(0,o.Z)((0,a.FV)(u.H.mobileInfo),2),p=n[0],f=n[1],m=(0,s.useCallback)(function(){f(function(n){var o;return(0,i.Z)((0,r.Z)({},n),{isScreenSizeSmall:(0,l.OY)(t.aspectRatio,null==e?void 0:null===(o=e.iframeRef)||void 0===o?void 0:o.current),isMobile:(0,l.tq)()})})},[t.aspectRatio,null==e?void 0:e.iframeRef,f]);return(0,d.y)({targetRef:null==e?void 0:e.iframeRef,watchBody:!(null==e?void 0:e.iframeRef),onResize:m,disabled:!1===t.optimizeFlowForMobileView||(null==e?void 0:e.forceNoMobileView)}),(0,s.useEffect)(function(){f(function(e){return(0,i.Z)((0,r.Z)({},e),{isIOS:(0,l.tq)()&&(0,l.G6)()})})},[f]),(0,s.useEffect)(function(){var n=!1===t.optimizeFlowForMobileView||(null==e?void 0:e.forceNoMobileView);f(function(o){var s;return(0,i.Z)((0,r.Z)({},o),{isScreenSizeSmall:!n&&(0,l.OY)(t.aspectRatio,null==e?void 0:null===(s=e.iframeRef)||void 0===s?void 0:s.current),isMobile:!n&&(0,l.tq)()})})},[t.aspectRatio,t.optimizeFlowForMobileView,f,null==e?void 0:e.iframeRef,null==e?void 0:e.forceNoMobileView,]),(0,r.Z)({},p)}},33067:function(e,t,n){"use strict";n.d(t,{r:function(){return o}});var r=n(2784),i=n(66841);function o(e,t,n){var o=(0,i.h)(e,t,n);return(0,r.useEffect)(function(){o.page()},[]),o}},30032:function(e,t,n){"use strict";let r=n(269),i=n(26943),o=n(76680);function s(e,t){if(e.type===r.StepType.Image)return e.hotspots.map(e=>e.targetId??t);if(e.type===r.StepType.Video)return[e.targetId??t];if(e.type===r.StepType.Overlay){if(e.paths)return e.paths.filter(e=>"step"===e.pathType).map(e=>e.targetStepId??t);if("next_step"===e.buttonType)return[t]}return[]}function a(e,t,n){let r={};for(let[i,o]of e.entries()){let s=t[i],a=n[s];r[a]=o}return r}t.Z=class{steps;structureBits;stepIndex;stepBits;transitionIds;transitionBits;constructor(e,t){var n;this.steps=e,this.structureBits=function(e,t){let n=t?[...t.steps]:[],r=t?[...t.transitions]:[],i=Object.fromEntries(e.map((e,t)=>[e,t])),o=Object.fromEntries(n.map((e,t)=>[e,t])),a=Object.fromEntries(r.map((e,t)=>[e,t]));for(let l of e)l.id in o||(o[l.id]=n.length,n.push(l.id));for(let[u,c]of e.entries()){let d=e[(u+1)%e.length].id,p=s(c,d),f=[...new Set(p)],m=f.sort((e,t)=>i[e]-i[t]);for(let h of m){let v=`${o[c.id]}:${o[h]}`;v in a||r.push(v)}}let g={steps:n,transitions:r};return t&&(n.length===t.steps.length&&(g.steps=t.steps),r.length===t.transitions.length&&(g.transitions=t.transitions),g.steps===t.steps&&g.transitions===t.transitions)?t:g}(e,t),this.stepIndex=Object.fromEntries(e.map((e,t)=>[e.id,t])),this.stepBits=Object.fromEntries(this.structureBits.steps.map((e,t)=>[e,t])),this.transitionIds=(n=this.structureBits).transitions.map(e=>{let[t,r]=e.split(":").map(Number);return`${n.steps[t]}:${n.steps[r]}`}),this.transitionBits=Object.fromEntries(this.transitionIds.map((e,t)=>[e,t]))}getStepReachedProps(e,t){return{stepIndex:this.stepBits[e]??null,transitionIndex:this.transitionBits[`${t}:${e}`]??null,stepCount:this.structureBits.steps.length,transitionCount:this.structureBits.transitions.length}}getBranchStats(e,t,n){let r=[],i=0;for(let s of t){let a=n[`${e}:${s}`],l=this.stepIndex[s]+1;i+=a,r.push({conversionCount:a,toStepId:s,toStepNumber:l,conversionPercent:0})}return r.map(e=>({...e,conversionPercent:i>0?(0,o.percentage)(e.conversionCount,i):0}))}getDropoffCurveValues(e,t,n){let r=this.getRelevantStepBits(),s=this.getRelevantTransitionBits();if(e.length!==r.length)throw Error("Mismatch between relevant steps and given reached steps");if(t.length!==r.length)throw Error("Mismatch between relevant steps and given dropoff steps");if(n.length!==s.length)throw Error("Mismatch between relevant transitions and given transitions");let l=a(e,r,this.structureBits.steps),u=a(t,r,this.structureBits.steps),c=a(n,s,this.transitionIds),d=this.getKnownTransitions(),p=this.steps.map((e,t)=>({reachedCount:l[e.id]??0,parentSteps:[],stepId:e.id,knownTransitions:0===t?l[e.id]??0:0}));for(let[f,m]of this.steps.entries()){let h=p[f],v=m.id,g=d[v];for(let y of(g.length>1&&(h.branchStats=this.getBranchStats(v,g,c)),g)){let b=this.stepIndex[y];if(0===b)continue;let w=c[`${v}:${y}`]??0,x={stepNumber:f+1,conversionCount:w,conversionPercent:(0,o.percentage)(w,h.reachedCount),stepId:v};if(f+1===b){for(let k of(x.dropoffCount=u[v],x.dropoffPercent=(0,o.percentage)(x.dropoffCount,h.reachedCount),g)){if(k===y)continue;"skippedTo"in x||(x.skippedTo=[]);let S=this.stepIndex[k],T=c[`${v}:${k}`]??0;x.skippedTo.push({stepNumber:S+1,skippedCount:T,skippedPercent:(0,o.percentage)(T,h.reachedCount)})}p[b].parentSteps.unshift(x)}else p[b].parentSteps.push(x);p[b].knownTransitions=(p[b].knownTransitions||0)+w}}return(0,i.formatValuesWithKnownTransitions)(p)}getRelevantStepBits(){return this.steps.map(e=>this.stepBits[e.id]).sort()}getKnownTransitions(){let e={};for(let[t,n]of this.steps.entries()){let r=this.steps[(t+1)%this.steps.length].id,i=s(n,r),o=[...new Set(i)];e[n.id]=o}return e}getRelevantTransitionBits(){let e=[];for(let[t,n]of Object.entries(this.getKnownTransitions()))for(let r of n)e.push(`${t}:${r}`);return e.filter(e=>e in this.transitionBits).map(e=>this.transitionBits[e]).sort()}}},26943:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatValuesWithKnownTransitions=void 0;let r=n(76680),i=e=>e.map((t,n)=>{if(t.parentSteps?.length){let i=t.parentSteps.map(t=>{let i=e.find(e=>e.stepId===t.stepId);if(i&&i.knownTransitions){if(1===n)return{...t,conversionPercentWithKnownTransitions:t.conversionPercent,dropOffCountWithKnownTransitions:t.dropoffCount,dropOffPercentWithKnownTransitions:t.dropoffPercent};let o=(0,r.percentage)(t.conversionCount,i.knownTransitions),s=100===o?0:i.knownTransitions-t.conversionCount;return{...t,conversionPercentWithKnownTransitions:o,dropOffCountWithKnownTransitions:s,dropOffPercentWithKnownTransitions:(0,r.percentage)(s,i.knownTransitions)}}return t});return{...t,parentSteps:i}}return t});t.formatValuesWithKnownTransitions=i},76680:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.humanize=t.rate=t.percentage=void 0;let n=(e,t)=>e?t?Math.round(100*e/t):100:0;t.percentage=n;let r=(e,t)=>e?t?e/t:1:0;t.rate=r;let i=e=>e>=1e3?`${(e/1e3).toFixed(1)}k`:e;t.humanize=i}}]);